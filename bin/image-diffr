#!/usr/bin/env node

const program   = require('commander');
const pkgJson   = require('../package.json');
const { diff }  = require('../src');

let filePath1, filePath2;

program
    .version(pkgJson.version)
    .arguments('<filepath1> <filepath2>')
    .action((_filePath1, _filePath2) => {
        filePath1 = _filePath1;
        filePath2 = _filePath2;
        if (filePath1 && filePath2) {
            return diff(filePath1, filePath2);
        }
    });

program.parse(process.argv);

if (!filePath1 || !filePath2) {
    program.help();
}